# FRAG-021 â€“ Create Chromeless UI Artifact Components (packages/ui)

## ðŸš§ Status: COMPLETED

## Priority: High

## Effort: Medium

## Owner: AI / Junior Engineer

---

## ðŸŽ¯ OBJECTIVE

Create a set of chromeless, reusable UI components within
`packages/ui/src/components/custom/artifacts/` that are designed to directly
consume and render the structured data generated by agents in
`apps/agents-mastra`. These components will adhere to shadcn/ui standards for
visual consistency and will _not_ include any additional UI chrome (borders,
titles, etc.), as that is handled by the `UnifiedChatBlock`.

---

## ðŸ”‘ KEY TASKS

1.  **Create New Directory**:
    - Location: `packages/ui/src/components/custom/artifacts/`
2.  **Import Shadcn/ui Components**:
    - Utilize existing shadcn/ui components (e.g., `Table`, `Card`, `Badge`,
      `Chart` from `@/components/ui/chart`) where appropriate to maintain
      consistency.
3.  **Define Component Interfaces**:
    - For each artifact component, define TypeScript interfaces that reflect the
      precise `data` structure from the corresponding Zod schemas in
      `apps/agents-mastra/mastra/schemas/artifactSchemas.ts`. These interfaces
      should be imported from `shared-types` (which will be updated to re-export
      them).
4.  **Implement Chromeless Components**:
    - Create the following components:
      - `DataTable.tsx`: For displaying tabular data. Should accept `columns`
        and `data` props.
      - `LineChart.tsx`: For rendering line graphs. Should accept `data` and
        `categories` props, using shadcn/ui's chart library.
      - `GeoScoreCard.tsx`: For displaying the overall GEO score, platform
        breakdown, and simple competitive comparison (as per
        `PRODUCT_REQUIREMENTS.md`).
      - `RecommendationsCard.tsx`: For displaying a list of actionable
        recommendations.
    - Ensure no component adds its own borders, shadows, or titles; they should
      be pure data visualizations.
5.  **Export Components**:
    - Export all created components from an `index.ts` within the `artifacts`
      directory.

### Example Sketch (`GeoScoreCard.tsx`):

```tsx
// packages/ui/src/components/custom/artifacts/GeoScoreCard.tsx
"use client";

import { type GeoScoreCardData } from "@workspace/shared-types"; // Will be updated to re-export schemas
import { Card, CardContent } from "@/components/ui/card";
import { Progress } from "@/components/ui/progress";
import { Badge } from "@/components/ui/badge";

interface GeoScoreCardProps {
	data: GeoScoreCardData;
}

export function GeoScoreCard({ data }: GeoScoreCardProps) {
	const { overallScore, platformBreakdown, competitiveComparison, quickWins } =
		data;

	return (
		<div className="space-y-4">
			<div className="flex items-center justify-between">
				<h3 className="text-lg font-semibold">GEO Score</h3>
				<Badge variant="secondary" className="text-xl">
					{overallScore}/10
				</Badge>
			</div>
			<Progress value={overallScore * 10} className="h-2" />

			<div>
				<h4 className="text-md font-medium">Platform Breakdown</h4>
				{Object.entries(platformBreakdown).map(([platform, score]) => (
					<div
						key={platform}
						className="flex items-center justify-between text-sm"
					>
						<span>{platform}</span>
						<span>{score}/10</span>
					</div>
				))}
			</div>

			{/* Add sections for competitiveComparison and quickWins here, using shadcn/ui components */}
		</div>
	);
}
```

---

## âœ… ACCEPTANCE CRITERIA

- New directory `packages/ui/src/components/custom/artifacts/` is created.
- `DataTable.tsx`, `LineChart.tsx`, `GeoScoreCard.tsx`, and
  `RecommendationsCard.tsx` components are implemented.
- Each component is chromeless and designed to receive structured data directly.
- Component interfaces are correctly typed based on artifact schemas (to be
  re-exported by `shared-types`).
- Components primarily utilize shadcn/ui for their visual elements.
- All components are exported from
  `packages/ui/src/components/custom/artifacts/index.ts`.

---

## ðŸ•’ ESTIMATE

3 dev-days

---

## ðŸ”— CONTEXT & REFERENCES

- **Plan**: Phase 1, Task 1.5: Create Chromeless UI Artifact Components
- **Technical Design**: `TECH.md` section "5. Mastra Agent-Driven UI Artifacts
  (NEW)" (specifically "Chromeless UI Components" point)
- **Shadcn/ui**: Consult shadcn/ui documentation for `Table`, `Chart`, `Card`,
  `Progress`, `Badge` components.
- **Related Tickets**: `FRAG-018` (Define UI Artifact Schemas) is a prerequisite
  for typing; `FRAG-022` (Implement Dynamic Artifact Renderer) will consume
  these components.
